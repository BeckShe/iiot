# AWS IoT Device Defender设计解析

> 官网：[https://amazonaws-china.com/cn/iot-device-defender/?c=i&sec=srv](https://amazonaws-china.com/cn/iot-device-defender/?c=i&sec=srv)

在物联网架构中，安全是最为重要的，特别是工业物联网，设备的安全是关系到财产甚至生命的事情。这也是AWS设计IoT Device Defender的需求来源。这个在IoT Device Defender的官方介绍中来说明了：

> **IoT 设备的安全管理**

## IoT 安全性为什么重要

连接的设备使用不同种类的无线通信协议不断地与其他设备和云进行通信。在通信催生响应式 IoT 应用程序的同时，它也会公开 IoT 安全漏洞，并为恶意角色或意外数据泄漏打开通道。为了保护用户、设备和公司，必须确保 IoT 设备安全并得到保护。IoT 安全性的基础在于控制、管理和设置设备之间的连接。适当的保护措施有助于保持数据的私密性，限制对设备和云资源的访问，提供安全的方式连接到云，以及对设备的使用情况进行审核。IoT 安全性策略通过使用诸如设备身份管理、加密和访问控制等此类策略来减少漏洞。

## IoT 安全面临的挑战是什么

安全漏洞是可被利用以损害 IoT 应用程序的完整性或可用性的弱点。IoT 设备在本质上是易受攻击的。IoT 队列由设备组成，这些设备具有截然不同的功能、使用寿命较长且地理位置分散。这些特性结合设备数量不断增长，对我们如何应对 IoT 设备所带来的安全风险提出了挑战。  为了更详细地说明安全风险，许多设备具有低级的计算、内存和存储功能，这限制了在设备上实施安全性的机会。即使您已实施了安全性最佳实践，新的攻击媒介也会不断涌现。**为了检测和缓解漏洞，组织应始终不断地审核设备设置和运行状况**。

## 设计

基于上面所说的IoT安全面临的挑战，AWS IoT Device Defender在设计时确立了一下的目标：

* 审核设备配置，检查安全漏洞
* 持续监控设备行为以发现异常
* 接收提醒并采取措施

![](../../../resources/imgs/How%20it%20Works%20AWS%20IoT%20Device%20Defender.png)

### 审核设备配置，检查安全漏洞

AWS IoT Device Defender 根据一组定义的 IoT 安全最佳实践来审核与您的设备相关的 IoT 配置，以帮助您确定存在安全漏洞的确切位置。您可以持续或即时运行审核。AWS IoT Device Defender 提供一系列安全最佳实践，您可以从中选择适用的最佳实践并将其作为审核的一部分运行。例如，您可以创建一项审核，检查 7 天内未激活、已撤销、已过期或正在等待转移的身份证书。通过审核，您可以在更新 IoT 配置时接收提醒。

### 持续监控设备行为以发现异常

AWS IoT Device Defender 通过监控来自云和 AWS IoT Core 的高价值安全指标，并将其与您定义的预期设备行为进行比较，来检测可能表明设备受损的异常行为。例如，借助 AWS IoT Device Defender，您可以定义设备上开放的端口数量、设备的通信对象、设备的连接来源以及设备发送或接收的数据量。然后，该服务会监控设备流量，并在发生异常（例如流量从设备传输到已知恶意 IP 或未授权终端节点）时向您发送提醒。

### 接收提醒并采取措施

当审核失败或检测到行为异常时，AWS IoT Device Defender 会向 AWS IoT 控制台、Amazon CloudWatch 和 Amazon SNS 发布安全提醒，以帮助您调查和确定根本原因。例如，AWS IoT Device Defender 会在设备身份访问敏感 API 时向您发送提醒。AWS IoT Device Defender 还可以提供可用于最大限度降低安全问题影响的建议措施，例如撤消权限、重启设备、重置工厂默认设置或向任何连接的设备推送安全修补程序。

## 总结

AWS IoT Device Defender在设计时根据目前IoT设备安全的需求，分析了所面临的挑战，包括设备易受攻击，因为性能等原因无法在设备实施安全，新的攻击媒介等原因，得出设备安全需要不断审核和分析。所以在设计上采用了分层设计，在数据收集层IoT Core和云端其他层中建立了IoT Device Defender层，使得所有的数据交互和设备信息都经过IoT Device Defender，这样可以不断监控和管理设备的安全。